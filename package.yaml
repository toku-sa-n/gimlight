name: gimlight
version: 0.1.0.0
github: "toku-sa-n/gimlight"
license: AGPL-3.0-or-later
author: Hiroki Tokunaga
maintainer: tokusan441@gmail.com
copyright: 2024 Hiroki Tokunaga

synopsis: A roguelike game
category: Game

description: Please see the README on GitHub at <https://github.com/toku-sa-n/gimlight#readme>

dependencies:
  - base >= 4.7 && < 5

extra-source-files:
  - README.md
  - CHANGELOG.md
  - logic-core/**/*.v

# `-Werror` should not be specified here because the combination with
# `-Weverything` could make this package incompatible with future GHC versions,
# potentially disrupting builds for other packages that depend on it as a
# library. Ideally, `-Werror` should be specified in `stack.yaml`, but it
# is specified here due to issues with Haskell files generated by Coq failing to
# build with the combination.
ghc-options:
  - -Weverything
  - -Werror

  # As most of packages do not use Safe Haskell, we disable warnings related to
  # it.
  - -Wno-missing-safe-haskell-mode
  - -Wno-safe
  - -Wno-unsafe

build-type: Custom
custom-setup:
  dependencies:
    - Cabal
    - base
    - directory
    - process

internal-libraries:
  logic-core:
    source-dirs: logic-core
    ghc-options:
      - -w
    dependencies:
      - base

library:
  source-dirs: logic
  dependencies:
    - logic-core
    - monomer
    - text

executables:
  gimlight-exe:
    main: Main.hs
    source-dirs: app
    ghc-options:
      - -threaded
      - -rtsopts
      - -with-rtsopts=-N
    dependencies:
      - gimlight

tests:
  gimlight-test:
    main: Spec.hs
    source-dirs: test
    ghc-options:
      - -threaded
      - -rtsopts
      - -with-rtsopts=-N
